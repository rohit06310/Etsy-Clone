{% extends 'shop/layouts/main.html' %}

{% block title %}
  EBAY
{% endblock title %}

{% block content %}
<section class="bg-light py-5" style="min-height: 600px;">
  <div class="container">
    <div class="row mb-4">
      <div class="col-12 text-center">
        <h2 class="fw-bold text-uppercase">{{ category_name }} Products</h2>
        <hr class="mx-auto" style="width: 100px; border: 2px solid #ffc107;">
      </div>
    </div>

    <div class="row g-4">
      {% for item in products %}
      <div class="col-sm-6 col-md-4 col-lg-3 d-flex">
        <div class="card shadow-sm border-0 w-100 h-100 hover-card">
          <div class="position-relative overflow-hidden">
            <img src="{{ item.product_image.url }}" class="card-img-top img-fluid product-img" alt="{{ item.name }}">
          </div>
          <a href="{% url 'product_details' category_name item.name %}" class="text-decoration-none">
            <div class="card-body">
              <h5 class="card-title text-dark fw-semibold">{{ item.name }}</h5>
              <p class="card-text mb-0">
                <span class="text-muted"><s>₹{{ item.original_price | stringformat:'d' }}</s></span>
                <span class="float-end fw-bold text-success">₹{{ item.selling_price | stringformat:'d' }}</span>
              </p>
            </div>
          </a>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
  .product-img {
    height: 230px;
    object-fit: cover;
    transition: transform 0.3s ease-in-out;
  }

  .hover-card:hover .product-img {
    transform: scale(1.05);
  }

  .card-title {
    font-size: 1.1rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .card {
    transition: all 0.3s ease-in-out;
  }

  .hover-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);
  }
</style>
{% endblock content %}
